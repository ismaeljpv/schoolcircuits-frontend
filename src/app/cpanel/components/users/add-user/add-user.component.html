<div class="container">
    <h4 class="mb-4">Agregar Nuevo Usuario</h4>
    <form [formGroup]="addUserForm" (ngSubmit)="postData(addUserForm)">

        <div class="form-row">
            <div class="form-group col-md-6 ">
                <label>Nombre de Usuario</label>
                <div>
                  <input formControlName="usuario" type="text" class="form-control">
                  <div *ngIf="addUserForm.controls['usuario'].touched && !addUserForm.controls['usuario'].valid" class="alert alert-danger">
                    <span *ngIf="addUserForm.controls['usuario'].hasError('required')">
                      Este campo es requerido
                    </span>
                  </div>
                </div>  
            </div>
            <div class="form-group col-md-6 mb-4">
                <label>Correo</label>
                <div>
                  <input formControlName="correo" type="email" class="form-control" pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}">
                  <div *ngIf="addUserForm.controls['correo'].touched && !addUserForm.controls['correo'].valid" class="alert alert-danger">
                    <span *ngIf="addUserForm.controls['correo'].hasError('required')">
                      Este campo es requerido
                    </span>
                    <span *ngIf="addUserForm.controls['correo'].hasError('pattern')">
                      Email incorrecto
                    </span>
                  </div>
                </div>
              </div>
        </div>
        <div class="form-row">
            
              <div class="form-group col-md-6 mb-4">
                  <label>Clave</label>
                  <div>
                    <input formControlName="clave" type="{{type1}}" class="form-control" minlength="8">
                    <i class="far fa-eye"  id="show" name="eye" (click)="showPsw()"></i>
                  </div>
                  <div *ngIf="addUserForm.controls['clave'].touched && !addUserForm.controls['clave'].valid" class="alert alert-danger">
                      <span *ngIf="addUserForm.controls['clave'].hasError('required')">
                        Este campo es requerido
                      </span>
                      <span *ngIf="addUserForm.controls['clave'].hasError('minlength')">
                        La longitud m√≠nima debe ser de 8 caracteres
                      </span>
                    </div>
              </div>
              <div class="form-group col-md-6 mb-4">
                  <label>Confirmar Clave</label>
                  <div>
                    <input formControlName="confirmarClave" type="{{type2}}" class="form-control">
                    <i class="far fa-eye"  id="show" name="eye" (click)="showPsw1()"></i>
                  </div>
                  <div *ngIf="addUserForm.controls['confirmarClave'].touched && !addUserForm.controls['confirmarClave'].valid" class="alert alert-danger">
                      <span *ngIf="addUserForm.controls['confirmarClave'].hasError('required')">
                        Este campo es requerido
                      </span>
                    </div>
                    <div *ngIf="addUserForm.controls['confirmarClave'].hasError('notEquivalent')" class="alert alert-danger">
                      <span>
                        Las claves deben coincidir
                      </span>
                    </div>
              </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6 mb-4">
                <label class="col-form-label"> Tipo de Perfil: </label>
                <div class="col-xs-12">
                  <select class="form-control" formControlName="perfil">
                    <option disabled="disabled">Seleccionar</option>
                    <option value="ADMINISTRADOR">ADMINISTRADOR</option>
                    <option value="SUPERVISOR">SUPERVISOR</option>
                    <option value="DIRECTOR">DIRECTOR</option>
                  </select>
                  <div *ngIf="addUserForm.controls['perfil'].touched && !addUserForm.controls['perfil'].valid"  class="alert alert-danger">
                    <span *ngIf="addUserForm.controls['perfil'].hasError('required')">
                      Este campo es requerido
                    </span>
                  </div>
                </div>    
            </div>
  
            <div class="form-group col-md-6 mb-4">
                        <label class="col-form-label"> Seleccione la Persona: </label>
                        <div class="col-xs-12">
                          <select class="form-control" formControlName="idPersona">
                            <option disabled="disabled">Seleccionar</option>
                           <option *ngFor="let persona of supervisores" value="{{ persona.idPersona }}">{{ persona.nombre }}</option>
                          </select>
                          <div *ngIf="addUserForm.controls['idPersona'].touched && !addUserForm.controls['idPersona'].valid"  class="alert alert-danger">
                            <span *ngIf="addUserForm.controls['idPersona'].hasError('required')">
                              Este campo es requerido
                            </span>
                          </div>
                        </div>    
                    </div>
             </div>
  
            
          <div class="row justify-content-center m-4">
              <button class="btn btn-success" [disabled]='!addUserForm.valid' value="Post Data">Enviar</button>
          </div>
          </form>
  
</div>